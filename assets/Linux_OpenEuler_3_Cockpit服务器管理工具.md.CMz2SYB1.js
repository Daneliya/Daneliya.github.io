import{_ as i,c as a,o as n,aN as e}from"./chunks/framework.CMIDsdwV.js";const p="/assets/image-20250615211823067.BcB6gFDW.png",F=JSON.parse('{"title":"CockpitæœåŠ¡å™¨ç®¡ç†å·¥å…·","description":"","frontmatter":{"title":"CockpitæœåŠ¡å™¨ç®¡ç†å·¥å…·","tags":["Linux"],"categories":["Linux"]},"headers":[],"relativePath":"Linux/OpenEuler/3_CockpitæœåŠ¡å™¨ç®¡ç†å·¥å…·.md","filePath":"Linux/OpenEuler/3_CockpitæœåŠ¡å™¨ç®¡ç†å·¥å…·.md","lastUpdated":1767444225000}'),t={name:"Linux/OpenEuler/3_CockpitæœåŠ¡å™¨ç®¡ç†å·¥å…·.md"};function l(h,s,k,r,d,c){return n(),a("div",null,[...s[0]||(s[0]=[e(`<div style="display:none;" hidden="true" aria-hidden="true">Are you an LLM? You can read better optimized documentation at /Linux\\OpenEuler\\3_CockpitæœåŠ¡å™¨ç®¡ç†å·¥å…·.md for this page in Markdown format</div><h1 id="cockpitæœåŠ¡å™¨ç®¡ç†å·¥å…·" tabindex="-1">CockpitæœåŠ¡å™¨ç®¡ç†å·¥å…· <a class="header-anchor" href="#cockpitæœåŠ¡å™¨ç®¡ç†å·¥å…·" aria-label="Permalink to &quot;CockpitæœåŠ¡å™¨ç®¡ç†å·¥å…·&quot;">â€‹</a></h1><h2 id="ä¸€ã€ç®€ä»‹" tabindex="-1">ä¸€ã€ç®€ä»‹ <a class="header-anchor" href="#ä¸€ã€ç®€ä»‹" aria-label="Permalink to &quot;ä¸€ã€ç®€ä»‹&quot;">â€‹</a></h2><p>ä¸€ç™»å½• centos8, å°±æç¤ºä¿¡æ¯</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Authorized users only. All activities may be monitored and reported.</span></span>
<span class="line"><span>Activate the web console with: systemctl enable --now cockpit.socket</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>è¿™ä¸ªæ˜¯ä»€ä¹ˆæ„æ€å‘¢? å…¶å®è¿™ä¸ªå°±æ˜¯æƒ³è®©ä½ å¼€å¯cockpitæœåŠ¡ã€‚è¿™æ¡å‘½ä»¤å°±æ˜¯è¦æŠŠcockpitè®¾ç½®ä¸ºå¼€æœºè‡ªå¯åŠ¨å¹¶ä¸”ç«‹åˆ»è¿è¡Œèµ·æ¥ï¼ŒCockpit æ˜¯çº¢å¸½å¼€å‘çš„ç½‘é¡µç‰ˆå›¾åƒåŒ–æœåŠ¡ç®¡ç†å·¥å…·ï¼Œå®˜æ–¹æ˜¯è¯´â€œCockpit æ˜¯ä¸€ä¸ªäº¤äº’å¼ Linux æœåŠ¡å™¨ç®¡ç†æ¥å£â€ï¼Œè¯´ç™½äº†å°±æ˜¯ç»™ä½ æä¾›ä¸ªwebé¡µé¢æ¥ç®¡ç†cneots8æœåŠ¡å™¨ï¼Œå¬è¯´è¿™ä¸ªæœåŠ¡è¿˜æ˜¯éå¸¸å¥½ç”¨çš„ï¼Œåé¢ä¼šæ›´æ–°çœ‹ä¸‹è¿™ä¸ªæœåŠ¡çš„å…·ä½“ä½¿ç”¨ã€‚</p><p>å‚è€ƒèµ„æ–™ï¼š<a href="https://zhuanlan.zhihu.com/p/113270502" target="_blank" rel="noreferrer">https://zhuanlan.zhihu.com/p/113270502</a></p><p>ç•Œé¢å¦‚ä¸‹ï¼š</p><p><img src="`+p+`" alt="image-20250615211823067" loading="lazy"></p><h2 id="äºŒã€cockpitæ›´æ¢ç«¯å£" tabindex="-1">äºŒã€Cockpitæ›´æ¢ç«¯å£ <a class="header-anchor" href="#äºŒã€cockpitæ›´æ¢ç«¯å£" aria-label="Permalink to &quot;äºŒã€Cockpitæ›´æ¢ç«¯å£&quot;">â€‹</a></h2><p>ä¿®æ”¹ Cockpit ç«¯å£</p><p><strong>ç¼–è¾‘é…ç½®æ–‡ä»¶</strong>ï¼š æ‰“å¼€ Cockpit çš„é…ç½®æ–‡ä»¶ <em>cockpit.socket</em>ã€‚</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nano</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/systemd/system/sockets.target.wants/cockpit.socket</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><strong>ä¿®æ”¹ç«¯å£</strong>ï¼š æ‰¾åˆ° <em>[Socket]</em> éƒ¨åˆ†ï¼Œå¹¶å°† <em>ListenStream</em> çš„å€¼ä¿®æ”¹ä¸ºæ‰€éœ€çš„ç«¯å£å·ï¼Œä¾‹å¦‚ 9091ã€‚</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [Socket] ListenStream</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">9091</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>å®Œæ•´é…ç½®å¦‚ä¸‹</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[Unit]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Description</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Cockpit</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Web</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Service</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Socket</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Documentation</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">man:cockpit-ws</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">8</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Wants</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">cockpit-motd.service</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[Socket]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ListenStream</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">9091</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ExecStartPost</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">-/usr/share/cockpit/motd/update-motd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;&#39;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> localhost</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ExecStartPost</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">-/bin/ln</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> -snf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> active.motd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /run/cockpit/motd</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ExecStopPost</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">-/bin/ln</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> -snf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> inactive.motd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /run/cockpit/motd</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[Install]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">WantedBy</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">sockets.target</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p><strong>é‡æ–°åŠ è½½ systemd é…ç½®</strong>ï¼š ä¿å­˜å¹¶å…³é—­æ–‡ä»¶åï¼Œé‡æ–°åŠ è½½ systemd é…ç½®ä»¥åº”ç”¨æ›´æ”¹ã€‚</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> daemon-reload</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><strong>é‡å¯ Cockpit æœåŠ¡</strong>ï¼š æœ€åï¼Œé‡å¯ Cockpit æœåŠ¡ä»¥ä½¿æ›´æ”¹ç”Ÿæ•ˆã€‚</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> restart</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cockpit.socket</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>æ³¨æ„äº‹é¡¹</p><p><strong>é˜²ç«å¢™é…ç½®</strong>ï¼šç¡®ä¿æ–°çš„ç«¯å£åœ¨é˜²ç«å¢™ä¸­å·²å¼€æ”¾ï¼Œä»¥ä¾¿å¤–éƒ¨è®¿é—®ã€‚</p><p><strong>SELinux é…ç½®</strong>ï¼šå¦‚æœå¯ç”¨äº† SELinuxï¼Œå¯èƒ½éœ€è¦æ›´æ–° SELinux ç­–ç•¥ä»¥å…è®¸æ–°çš„ç«¯å£ã€‚</p><h2 id="ä¸‰ã€æ›´æ¢ç«¯å£ä¸ç”Ÿæ•ˆ" tabindex="-1">ä¸‰ã€æ›´æ¢ç«¯å£ä¸ç”Ÿæ•ˆ <a class="header-anchor" href="#ä¸‰ã€æ›´æ¢ç«¯å£ä¸ç”Ÿæ•ˆ" aria-label="Permalink to &quot;ä¸‰ã€æ›´æ¢ç«¯å£ä¸ç”Ÿæ•ˆ&quot;">â€‹</a></h2><p>ä¿®æ”¹å®Œç«¯å£åå¯åŠ¨æŠ¥é”™</p><p>æŸ¥çœ‹æ—¥å¿—</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">journalctl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -u</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cockpit.socket</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --since</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;5 minutes ago&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>å†…å®¹å¦‚ä¸‹</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">6æœˆ</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 15</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 17:11:27</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 192.168.0.105</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> systemd[1]:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cockpit.socket:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Failed</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> create</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> listening</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> socket</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ([::]:9091): Permission</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">6æœˆ</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 15</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 17:11:27</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 192.168.0.105</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> systemd[1]:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cockpit.socket:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Failed</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> listen</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> on</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sockets:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Permission</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> denied</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">6æœˆ</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 15</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 17:11:27</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 192.168.0.105</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> systemd[1]:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Starting</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Cockpit</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Web</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Service</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Socket...</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">6æœˆ</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 15</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 17:11:27</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 192.168.0.105</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> systemd[1]:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cockpit.socket:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Failed</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> with</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> result</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;resources&#39;.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">6æœˆ</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 15</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 17:11:27</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 192.168.0.105</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> systemd[1]:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Failed</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> listen</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> on</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Cockpit</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Web</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Service</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Socket.</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>å…³é”®ä¿¡æ¯å¦‚ä¸‹ï¼š</p><ul><li><strong><code>Permission denied</code></strong>ï¼šè¡¨ç¤º systemd æ— æ³•ç»‘å®šåˆ°ä½ æŒ‡å®šçš„ç«¯å£ï¼ˆå¦‚ <code>9091</code>ï¼‰ã€‚</li><li><strong>é€šå¸¸æ˜¯ SELinuxã€firewalld æˆ–ç³»ç»Ÿæƒé™é™åˆ¶</strong> å¯¼è‡´ã€‚</li></ul><h3 id="ğŸ”’-åŸå› ä¸€-selinux-é˜»æ­¢äº†ç»‘å®šä½ç¼–å·ç«¯å£-1024" tabindex="-1">ğŸ”’ åŸå› ä¸€ï¼šSELinux é˜»æ­¢äº†ç»‘å®šä½ç¼–å·ç«¯å£ï¼ˆ&lt;1024ï¼‰ <a class="header-anchor" href="#ğŸ”’-åŸå› ä¸€-selinux-é˜»æ­¢äº†ç»‘å®šä½ç¼–å·ç«¯å£-1024" aria-label="Permalink to &quot;ğŸ”’ åŸå› ä¸€ï¼šSELinux é˜»æ­¢äº†ç»‘å®šä½ç¼–å·ç«¯å£ï¼ˆ&lt;1024ï¼‰&quot;">â€‹</a></h3><p>è™½ç„¶ä½ ä½¿ç”¨çš„æ˜¯ <code>9091</code>ï¼ˆ&gt;1024ï¼‰ï¼Œä½†æœ‰æ—¶ SELinux ä»ç„¶ä¼šé˜»æ­¢éæ ‡å‡†æœåŠ¡ç›‘å¬æŸäº›ç«¯å£ã€‚</p><h4 id="ğŸ§ª-æ£€æŸ¥-selinux-çŠ¶æ€" tabindex="-1">ğŸ§ª æ£€æŸ¥ SELinux çŠ¶æ€ï¼š <a class="header-anchor" href="#ğŸ§ª-æ£€æŸ¥-selinux-çŠ¶æ€" aria-label="Permalink to &quot;ğŸ§ª æ£€æŸ¥ SELinux çŠ¶æ€ï¼š&quot;">â€‹</a></h4><p>bashæ·±è‰²ç‰ˆæœ¬</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>sestatus</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>å¦‚æœè¾“å‡ºæ˜¯ <code>enabled</code>ï¼Œè¯´æ˜ SELinux æ˜¯å¼€å¯çš„ã€‚</p><h4 id="ğŸ› -è§£å†³æ–¹æ³•" tabindex="-1">ğŸ›  è§£å†³æ–¹æ³•ï¼š <a class="header-anchor" href="#ğŸ› -è§£å†³æ–¹æ³•" aria-label="Permalink to &quot;ğŸ›  è§£å†³æ–¹æ³•ï¼š&quot;">â€‹</a></h4><p>ä½ å¯ä»¥ä¸´æ—¶ç¦ç”¨ SELinux æµ‹è¯•æ˜¯å¦ä¸æ­¤æœ‰å…³ï¼š</p><p>bashæ·±è‰²ç‰ˆæœ¬</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>setenforce 0</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>ç„¶åå°è¯•é‡å¯æœåŠ¡ï¼š</p><p>bashæ·±è‰²ç‰ˆæœ¬</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>systemctl daemon-reload</span></span>
<span class="line"><span>systemctl restart cockpit.socket</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>âœ… å¦‚æœæˆåŠŸäº†ï¼Œè¯´æ˜ç¡®å®æ˜¯ SELinux çš„é—®é¢˜ã€‚</p><h4 id="æ°¸ä¹…è§£å†³-æ¨è" tabindex="-1">æ°¸ä¹…è§£å†³ï¼ˆæ¨èï¼‰ï¼š <a class="header-anchor" href="#æ°¸ä¹…è§£å†³-æ¨è" aria-label="Permalink to &quot;æ°¸ä¹…è§£å†³ï¼ˆæ¨èï¼‰ï¼š&quot;">â€‹</a></h4><p>åˆ›å»ºä¸€ä¸ª SELinux ç­–ç•¥å…è®¸ <code>cockpit</code> ç›‘å¬æ–°ç«¯å£ï¼Œæ¯”å¦‚ <code>9091</code>ï¼š</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span># å®‰è£… semanage å·¥å…·ï¼ˆå¦‚æœæ²¡æœ‰ï¼‰</span></span>
<span class="line"><span>dnf install -y policycoreutils-python-utils</span></span>
<span class="line"><span></span></span>
<span class="line"><span># æ·»åŠ ç«¯å£åˆ°å…è®¸åˆ—è¡¨</span></span>
<span class="line"><span>semanage port -a -t http_port_t -p tcp 9091</span></span>
<span class="line"><span></span></span>
<span class="line"><span># å†æ¬¡å°è¯•å¯åŠ¨</span></span>
<span class="line"><span>systemctl restart cockpit.socket</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="ğŸ§±-åŸå› äºŒ-é˜²ç«å¢™æˆ–-apparmor-å°‘è§" tabindex="-1">ğŸ§± åŸå› äºŒï¼šé˜²ç«å¢™æˆ– AppArmorï¼ˆå°‘è§ï¼‰ <a class="header-anchor" href="#ğŸ§±-åŸå› äºŒ-é˜²ç«å¢™æˆ–-apparmor-å°‘è§" aria-label="Permalink to &quot;ğŸ§± åŸå› äºŒï¼šé˜²ç«å¢™æˆ– AppArmorï¼ˆå°‘è§ï¼‰&quot;">â€‹</a></h3><p>å¦‚æœä½ ä¿®æ”¹äº†ç«¯å£ï¼Œä½†æ²¡æœ‰å¼€æ”¾å¯¹åº”é˜²ç«å¢™è§„åˆ™ï¼Œä¹Ÿå¯èƒ½å¯¼è‡´å¤±è´¥ã€‚</p><p>ä¸è¿‡è¿™ä¸ªé”™è¯¯æ˜¯ <code>Permission denied</code>ï¼Œæ›´å¯èƒ½æ˜¯ SELinux æˆ–å†…æ ¸æƒé™é—®é¢˜ã€‚</p><h3 id="ğŸ—ƒï¸-åŸå› ä¸‰-ç³»ç»Ÿé™åˆ¶-capabilities" tabindex="-1">ğŸ—ƒï¸ åŸå› ä¸‰ï¼šç³»ç»Ÿé™åˆ¶ï¼ˆCapabilitiesï¼‰ <a class="header-anchor" href="#ğŸ—ƒï¸-åŸå› ä¸‰-ç³»ç»Ÿé™åˆ¶-capabilities" aria-label="Permalink to &quot;ğŸ—ƒï¸ åŸå› ä¸‰ï¼šç³»ç»Ÿé™åˆ¶ï¼ˆCapabilitiesï¼‰&quot;">â€‹</a></h3><p>Cockpit ä½¿ç”¨ systemd socket æ¿€æ´»æ–¹å¼è¿è¡Œï¼Œé»˜è®¤ä¸éœ€è¦ root æƒé™ï¼Œä½†å¦‚æœç»‘å®šæŸäº›ç‰¹æ®Šç«¯å£æˆ–åŠŸèƒ½å—é™ï¼Œä¹Ÿå¯èƒ½ä¼šå¤±è´¥ã€‚</p><p>æ£€æŸ¥ <code>/usr/lib/systemd/system/cockpit.socket</code> ä¸­çš„ <code>[Socket]</code> é…ç½®æ˜¯å¦å¼‚å¸¸ã€‚</p><p>ä¿®å¤å®Œæ•´æµç¨‹</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># æŸ¥çœ‹ SELinux çŠ¶æ€</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sestatus</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># å®‰è£… semanageï¼ˆå¦‚æœªå®‰è£…ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> policycoreutils-python-utils</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># å…è®¸ 9091 ç«¯å£</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">semanage</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> port</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -a</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -t</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> http_port_t</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tcp</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 9091</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># ä¿®æ”¹ cockpit.socket æ–‡ä»¶ä¸­çš„ ListenStream=9091</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vim</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/lib/systemd/system/cockpit.socket</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># é‡æ–°åŠ è½½å¹¶å¯åŠ¨</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> daemon-reload</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> restart</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cockpit.socket</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># æŸ¥çœ‹çŠ¶æ€</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> status</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cockpit.socket</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># å¼€æ”¾é˜²ç«å¢™</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">firewall-cmd</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --permanent</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --add-port=9091/tcp</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">firewall-cmd</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --reload</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div>`,57)])])}const g=i(t,[["render",l]]);export{F as __pageData,g as default};
