import{_ as e,c as i,o as a,ah as n}from"./chunks/framework.D5cOWG0Y.js";const c=JSON.parse('{"title":"Linux新建用户并授予root权限","description":"","frontmatter":{"title":"Linux新建用户并授予root权限","autoGroup-1":"Linux","autoSort":2,"tags":["Linux"],"categories":["Linux"]},"headers":[],"relativePath":"Linux/Shell命令/1_Linux新建用户并授予root权限.md","filePath":"Linux/Shell命令/1_Linux新建用户并授予root权限.md","lastUpdated":1756054686000}'),t={name:"Linux/Shell命令/1_Linux新建用户并授予root权限.md"};function r(l,s,d,o,p,h){return a(),i("div",null,[...s[0]||(s[0]=[n('<h2 id="一、新建用户" tabindex="-1">一、新建用户 <a class="header-anchor" href="#一、新建用户" aria-label="Permalink to “一、新建用户”">​</a></h2><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>adduser xxl</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="二、授予root权限" tabindex="-1">二、授予root权限 <a class="header-anchor" href="#二、授予root权限" aria-label="Permalink to “二、授予root权限”">​</a></h2><p>通过修改sudoers文件来赋予新账户root权限</p><p>1、查找sudoers文件路径并赋予权限</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>whereis sudoers</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>查看sudoers文件权限</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>ls -l /etc/sudoers</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>只有读权限，所以为其赋予写权限</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>chmod -v u+w /etc/sudoers</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>2、修改sudoers文件</p><p>使用vim打开修改sudoers文件：</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>vim /etc/sudoers</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>添加新用户信息：</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>lisong ALL=(ALL) ALL</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>然后输入wq保存 3、收回sudoers文件写权限，防止他人篡改</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>chmod -v u-w /etc/sudoers</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="三、新用户登录" tabindex="-1">三、新用户登录 <a class="header-anchor" href="#三、新用户登录" aria-label="Permalink to “三、新用户登录”">​</a></h2><p>1、新建一个连接，使用新用户登录主机</p><p>2、切换root权限 （1）sudo su 是当前用户暂时申请root权限，所以输入的不是root用户密码，而是当前用户的密码</p><p>（2）su 切换到某某用户模式，提示输入密码时该密码为切换后账户的密码，用法为“su 账户名称”。 如果后面不加账户时系统默认为root账户，密码也为超级账户的密码。没有时间限制。 有些Linux发行版，例如ubuntu，默认没有设置root用户的密码 所以需要我们先使用 sudo passwd root 设置root用户密码。</p>',21)])])}const b=e(t,[["render",r]]);export{c as __pageData,b as default};
