import{_ as t,c as i,o as a,ah as d,uK as e,uL as r,uM as o}from"./chunks/framework.D5cOWG0Y.js";const h=JSON.parse('{"title":"微服务","description":"","frontmatter":{"title":"微服务","tags":["面试专栏"],"categories":["面试专栏"]},"headers":[],"relativePath":"daily/面试专栏/微服务相关/1_微服务.md","filePath":"daily/面试专栏/微服务相关/1_微服务.md","lastUpdated":1756054686000}'),n={name:"daily/面试专栏/微服务相关/1_微服务.md"};function u(b,l,p,s,S,g){return a(),i("div",null,[...l[0]||(l[0]=[d('<h2 id="_1-什么是微服务" tabindex="-1">1.什么是微服务？ <a class="header-anchor" href="#_1-什么是微服务" aria-label="Permalink to “1.什么是微服务？”">​</a></h2><p>微服务（Microservices）是一种软件架构风格，将一个大型应用程序划分为一组小型、自治且松耦合的服务。每个微服务负责执行特定的业务功能，并通过轻量级通信机制（如HTTP）相互协作。每个微服务可以独立开发、部署和扩展，使得应用程序更加灵活、可伸缩和可维护。</p><p>在微服务的架构演进中，一般可能会存在这样的演进方向：单体式--&gt;服务化--&gt;微服务。</p><p>单体服务一般是所有项目最开始的样子：</p><ul><li>单体服务（Monolithic Service）是一种传统的软件架构方式，将整个应用程序作为一个单一的、紧耦合的单元进行开发和部署。单体服务通常由多个模块组成，这些模块共享同一个数据库和代码库。然而，随着应用程序规模的增长，单体服务可能变得庞大且难以维护，且部署和扩展困难。</li></ul><p>后来，单体服务过大，维护困难，渐渐演变到了分布式的SOA：</p><ul><li>SOA（Service-Oriented Architecture，面向服务的架构）是一种软件架构设计原则，强调将应用程序拆分为相互独立的服务，通过标准化的接口进行通信。SOA关注于服务的重用性和组合性，但并没有具体规定服务的大小。</li><li>微服务是在SOA的基础上进一步发展而来，是一种特定规模下的服务拆分和部署方式。微服务架构强调将应用程序拆分为小型、自治且松耦合的服务，每个服务都专注于特定的业务功能。这种架构使得应用程序更加灵活、可伸缩和可维护。</li></ul><p>需要注意的是，微服务是一种特定的架构风格，而SOA是一种设计原则。微服务可以看作是对SOA思想的一种具体实践方式，但并不等同于SOA。</p><p><img src="'+e+'" alt="架构演进简图" loading="lazy"></p><p>微服务与单体服务的区别在于规模和部署方式。微服务将应用程序拆分为更小的、自治的服务单元，每个服务都有自己的数据库和代码库，可以独立开发、测试、部署和扩展，带来了更大的灵活性、可维护性、可扩展性和容错性。</p><h2 id="_2-微服务带来了哪些挑战" tabindex="-1">2.微服务带来了哪些挑战？ <a class="header-anchor" href="#_2-微服务带来了哪些挑战" aria-label="Permalink to “2.微服务带来了哪些挑战？”">​</a></h2><p>微服务架构不是万金油，尽它有很多优点，但是对于是否采用微服务架构，是否将原来的单体服务进行拆分，还是要考虑到服务拆分后可能带来的一些挑战和问题：</p><p><img src="'+r+'" alt="微服务带来的挑战" loading="lazy"></p><p>微服务带来的挑战</p><ol><li>系统复杂性增加：一个服务拆成了多个服务，整体系统的复杂性增加，需要处理服务之间的通信、部署、监控和维护等方面的复杂性。</li><li>服务间通信开销：微服务之间通过网络进行通信，传递数据需要额外的网络开销和序列化开销，可能导致性能瓶颈和增加系统延迟。</li><li>数据一致性和事务管理：每个微服务都有自己的数据存储，数据一致性和跨服务的事务管理变得更加复杂，需要额外解决分布式事务和数据同步的问题。</li><li>部署和运维复杂性：微服务架构涉及多个独立部署的服务，对于部署、监控和容错机制的要求更高，需要建立适当的部署管道和自动化工具，以简化部署和运维过程。</li><li>团队沟通和协作成本：每个微服务都由专门的团队负责，可能增加团队之间的沟通和协作成本。需要有效的沟通渠道和协作机制，确保服务之间的协调和一致性。</li><li>服务治理和版本管理：随着微服务数量的增加，服务的治理和版本管理变得更加复杂。需要考虑服务的注册发现、负载均衡、监控和故障处理等方面，以确保整个系统的可靠性和稳定性。</li><li>分布式系统的复杂性：微服务架构涉及构建和管理分布式系统，而分布式系统本身具有一些固有的挑战，如网络延迟、分布式一致性和容错性。</li></ol><p>简单说，采用微服务需要权衡这些问题和挑战，根据实际的需求来选择对应的技术方案，很多时候单体能搞定的也可以用单体，不能为了微服务而微服务。</p><h2 id="_3-现在有哪些流行的微服务解决方案" tabindex="-1">3.现在有哪些流行的微服务解决方案？ <a class="header-anchor" href="#_3-现在有哪些流行的微服务解决方案" aria-label="Permalink to “3.现在有哪些流行的微服务解决方案？”">​</a></h2><p>目前最主流的微服务开源解决方案有三种：</p><h3 id="dubbo" tabindex="-1">Dubbo <a class="header-anchor" href="#dubbo" aria-label="Permalink to “Dubbo”">​</a></h3><p><img src="https://i-blog.csdnimg.cn/blog_migrate/a4780c4f414c38627f5588dd778edb85.png" alt="Dubbo工作原理图-来源官网" loading="lazy"></p><ul><li>Dubbo 是一个高性能、轻量级的 Java 微服务框架，最初由阿里巴巴（Alibaba）开发并于2011年开源。它提供了服务注册与发现、负载均衡、容错、分布式调用等功能，后来一度停止维护，在近两年，又重新开始迭代，并推出了Dubbo3。</li><li>Dubbo 使用基于 RPC（Remote Procedure Call）的通信模型，具有较高的性能和可扩展性。它支持多种传输协议（如TCP、HTTP、Redis）和序列化方式（如JSON、Hessian、Protobuf），可根据需求进行配置。</li><li>Dubbo更多地被认为是一个高性能的RPC（远程过程调用）框架，一些服务治理功能依赖于第三方组件实现，比如使用ZooKeeper、Apollo等等。</li></ul><h3 id="spring-cloud-netflix" tabindex="-1">Spring Cloud Netflix <a class="header-anchor" href="#spring-cloud-netflix" aria-label="Permalink to “Spring Cloud Netflix”">​</a></h3><ul><li>Spring Cloud Netflix 是 Spring Cloud 的一个子项目，结合了 Netflix 开源的多个组件，但是Netflix自2018年停止维护和更新Netflix OSS项目，包括Eureka、Hystrix等组件，所以Spring Cloud Netflix也逐渐进入了维护模式。</li><li>该项目包含了许多流行的 Netflix 组件，如Eureka（服务注册与发现）、Ribbon（客户端负载均衡）、Hystrix（断路器）、Zuul（API 网关）等。它们都是高度可扩展的、经过大规模实践验证的微服务组件。</li></ul><h3 id="spring-cloud-alibaba" tabindex="-1">Spring Cloud Alibaba <a class="header-anchor" href="#spring-cloud-alibaba" aria-label="Permalink to “Spring Cloud Alibaba”">​</a></h3><ul><li>Spring Cloud Alibaba 是 Spring Cloud 的另一个子项目，与阿里巴巴的分布式应用开发框架相关。它提供了一整套与 Alibaba 生态系统集成的解决方案。</li><li>该项目包括 Nacos（服务注册与发现、配置管理）、Sentinel（流量控制、熔断降级）、RocketMQ（消息队列）等组件，以及与 Alibaba Cloud（阿里云）的集成。它为构建基于 Spring Cloud 的微服务架构提供了丰富的选项。</li><li>据说SpringCloud Alibaba项目的发起人已经跑路去了腾讯，并发起了SpringCloud Tecent项目，社区发展存在隐忧。</li></ul><h3 id="这三种方案有什么区别吗" tabindex="-1">这三种方案有什么区别吗？ <a class="header-anchor" href="#这三种方案有什么区别吗" aria-label="Permalink to “这三种方案有什么区别吗？”">​</a></h3><p>三种方案的区别：</p><table tabindex="0"><thead><tr><th>特点</th><th>Dubbo</th><th>Spring Cloud Netflix</th><th>Spring Cloud Alibaba</th></tr></thead><tbody><tr><td>开发语言</td><td>Java</td><td>Java</td><td>Java</td></tr><tr><td>服务治理</td><td>提供完整的服务治理功能</td><td>提供部分服务治理功能</td><td>提供完整的服务治理功能</td></tr><tr><td>服务注册与发现</td><td>ZooKeeper/Nacos</td><td>Eureka/Consul</td><td>Nacos</td></tr><tr><td>负载均衡</td><td>自带负载均衡策略</td><td>Ribbon</td><td>Ribbon\\Dubbo负载均衡策略</td></tr><tr><td>服务调用</td><td>RPC方式</td><td>RestTemplate/Feign</td><td>Feign/RestTemplate/Dubbo</td></tr><tr><td>熔断器</td><td>Sentinel</td><td>Hystrix</td><td>Sentinel/Resilience4j</td></tr><tr><td>配置中心</td><td>Apollo</td><td>Spring Cloud Config</td><td>Nacos Config</td></tr><tr><td>API网关</td><td>Higress/APISIX</td><td>Zuul/Gateway</td><td>Spring Cloud Gateway</td></tr><tr><td>分布式事务</td><td>Seata</td><td>不支持分布式事务</td><td>Seata</td></tr><tr><td>限流和降级</td><td>Sentinel</td><td>Hystrix</td><td>Sentinel</td></tr><tr><td>分布式追踪和监控</td><td>Skywalking</td><td>Spring Cloud Sleuth + Zipkin</td><td>SkyWalking或Sentinel Dashboard</td></tr><tr><td>微服务网格</td><td>Dubbo Mesh</td><td>不支持微服务网格</td><td>Service Mesh（Nacos+Dubbo Mesh）</td></tr><tr><td>社区活跃度</td><td>相对较高</td><td>目前较低</td><td>相对较高</td></tr><tr><td>孵化和成熟度</td><td>孵化较早，成熟度较高</td><td>成熟度较高</td><td>孵化较新，但迅速发展</td></tr></tbody></table><blockquote><p>在面试中，微服务一般主要讨论的是Spring Cloud Netflix，其次是Spring Cloud Alibaba，Dubbo更多的是作为一个RPC框架来问。</p></blockquote><h2 id="_4-说下微服务有哪些组件" tabindex="-1">4.说下微服务有哪些组件？ <a class="header-anchor" href="#_4-说下微服务有哪些组件" aria-label="Permalink to “4.说下微服务有哪些组件？”">​</a></h2><p>微服务给系统开发带来了一些问题和挑战，如服务调用的复杂性、分布式事务的处理、服务的动态管理等。为了更好地解决这些问题和挑战，各种微服务治理的组件应运而生，充当微服务架构的基石和支撑。</p><p><img src="'+o+'" alt="微服务组件示意图" loading="lazy"></p><p>微服务的各个组件和常见实现：</p><ol><li>注册中心：用于服务的注册与发现，管理微服务的地址信息。常见的实现包括： <ul><li>Spring Cloud Netflix：Eureka、Consul</li><li>Spring Cloud Alibaba：Nacos</li></ul></li><li>配置中心：用于集中管理微服务的配置信息，可以动态修改配置而不需要重启服务。常见的实现包括： <ul><li>Spring Cloud Netflix：Spring Cloud Config</li><li>Spring Cloud Alibaba：Nacos Config</li></ul></li><li>远程调用：用于在不同的微服务之间进行通信和协作。常见的实现保包括： <ul><li>RESTful API：如RestTemplate、Feign</li><li>RPC（远程过程调用）：如Dubbo、gRPC</li></ul></li><li>API网关：作为微服务架构的入口，统一暴露服务，并提供路由、负载均衡、安全认证等功能。常见的实现包括： <ul><li>Spring Cloud Netflix：Zuul、Gateway</li><li>Spring Cloud Alibaba：Gateway、Apisix等</li></ul></li><li>分布式事务：保证跨多个微服务的一致性和原子性操作。常见的实现包括： <ul><li>Spring Cloud Alibaba：Seata</li></ul></li><li>熔断器：用于防止微服务之间的故障扩散，提高系统的容错能力。常见的实现包括： <ul><li>Spring Cloud Netflix：Hystrix</li><li>Spring Cloud Alibaba：Sentinel、Resilience4j</li></ul></li><li>限流和降级：用于防止微服务过载，对请求进行限制和降级处理。常见的实现包括： <ul><li>Spring Cloud Netflix：Hystrix</li><li>Spring Cloud Alibaba：Sentinel</li></ul></li><li>分布式追踪和监控：用于跟踪和监控微服务的请求流程和性能指标。常见的实现包括： <ul><li>Spring Cloud Netflix：Spring Cloud Sleuth + Zipkin</li><li>Spring Cloud Alibaba：SkyWalking、Sentinel Dashboard</li></ul></li></ol>',34)])])}const C=t(n,[["render",u]]);export{h as __pageData,C as default};
