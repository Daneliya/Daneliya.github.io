import{_ as a,c as i,o as n,aN as e}from"./chunks/framework.CMIDsdwV.js";const o=JSON.parse('{"title":"Linuxå®‰è£…Docker","description":"","frontmatter":{"title":"Linuxå®‰è£…Docker","autoGroup-1":"å®¹å™¨åŒ–éƒ¨ç½²Docker","autoSort":8,"tags":["Linux"],"categories":["Linux"]},"headers":[],"relativePath":"Java/å®¹å™¨/Docker/02.Dockerå®‰è£…/2_Linuxå®‰è£…Docker.md","filePath":"Java/å®¹å™¨/Docker/02.Dockerå®‰è£…/2_Linuxå®‰è£…Docker.md","lastUpdated":1770025296000}'),l={name:"Java/å®¹å™¨/Docker/02.Dockerå®‰è£…/2_Linuxå®‰è£…Docker.md"};function p(t,s,r,h,k,d){return n(),i("div",null,[...s[0]||(s[0]=[e(`<div style="display:none;" hidden="true" aria-hidden="true">Are you an LLM? You can read better optimized documentation at /Java\\å®¹å™¨\\Docker\\02.Dockerå®‰è£…\\2_Linuxå®‰è£…Docker.md for this page in Markdown format</div><h1 id="linuxå®‰è£…docker" tabindex="-1">Linuxå®‰è£…Docker <a class="header-anchor" href="#linuxå®‰è£…docker" aria-label="Permalink to &quot;Linuxå®‰è£…Docker&quot;">â€‹</a></h1><p>Docker åˆ†ä¸º CE å’Œ EE ä¸¤å¤§ç‰ˆæœ¬ã€‚CE å³ç¤¾åŒºç‰ˆï¼ˆå…è´¹ï¼Œæ”¯æŒå‘¨æœŸ 7 ä¸ªæœˆï¼‰ï¼ŒEE å³ä¼ä¸šç‰ˆï¼Œå¼ºè°ƒå®‰å…¨ï¼Œä»˜è´¹ä½¿ç”¨ï¼Œæ”¯æŒå‘¨æœŸ 24 ä¸ªæœˆã€‚</p><p>Docker CE åˆ†ä¸º <code>stable</code> <code>test</code> å’Œ <code>nightly</code> ä¸‰ä¸ªæ›´æ–°é¢‘é“ã€‚</p><p>å®˜æ–¹ç½‘ç«™ä¸Šæœ‰å„ç§ç¯å¢ƒä¸‹çš„ <a href="https://docs.docker.com/install/" target="_blank" rel="noreferrer">å®‰è£…æŒ‡å—</a>ï¼Œè¿™é‡Œä¸»è¦ä»‹ç» Docker CE åœ¨ CentOSä¸Šçš„å®‰è£…ã€‚</p><h2 id="ä¸€ã€centoså®‰è£…docker" tabindex="-1">ä¸€ã€CentOSå®‰è£…Docker <a class="header-anchor" href="#ä¸€ã€centoså®‰è£…docker" aria-label="Permalink to &quot;ä¸€ã€CentOSå®‰è£…Docker&quot;">â€‹</a></h2><p>Docker CE æ”¯æŒ 64 ä½ç‰ˆæœ¬ CentOS 7ï¼Œå¹¶ä¸”è¦æ±‚å†…æ ¸ç‰ˆæœ¬ä¸ä½äº 3.10ï¼Œ CentOS 7 æ»¡è¶³æœ€ä½å†…æ ¸çš„è¦æ±‚ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨CentOS 7å®‰è£…Dockerã€‚</p><h3 id="_1-1-å¸è½½-å¯é€‰" tabindex="-1">1.1.å¸è½½ï¼ˆå¯é€‰ï¼‰ <a class="header-anchor" href="#_1-1-å¸è½½-å¯é€‰" aria-label="Permalink to &quot;1.1.å¸è½½ï¼ˆå¯é€‰ï¼‰&quot;">â€‹</a></h3><p>å¦‚æœä¹‹å‰å®‰è£…è¿‡æ—§ç‰ˆæœ¬çš„Dockerï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢å‘½ä»¤å¸è½½ï¼š</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>yum remove docker \\</span></span>
<span class="line"><span>                  docker-client \\</span></span>
<span class="line"><span>                  docker-client-latest \\</span></span>
<span class="line"><span>                  docker-common \\</span></span>
<span class="line"><span>                  docker-latest \\</span></span>
<span class="line"><span>                  docker-latest-logrotate \\</span></span>
<span class="line"><span>                  docker-logrotate \\</span></span>
<span class="line"><span>                  docker-selinux \\</span></span>
<span class="line"><span>                  docker-engine-selinux \\</span></span>
<span class="line"><span>                  docker-engine \\</span></span>
<span class="line"><span>                  docker-ce</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>å®Œå…¨å¸è½½å‚è€ƒï¼š<a href="https://blog.csdn.net/zqmgx13291/article/details/149933601" target="_blank" rel="noreferrer">https://blog.csdn.net/zqmgx13291/article/details/149933601</a></p><h3 id="_1-2-å®‰è£…docker" tabindex="-1">1.2.å®‰è£…docker <a class="header-anchor" href="#_1-2-å®‰è£…docker" aria-label="Permalink to &quot;1.2.å®‰è£…docker&quot;">â€‹</a></h3><p>é¦–å…ˆéœ€è¦è™šæ‹Ÿæœºè”ç½‘ï¼Œ<strong>å®‰è£…å¿…è¦çš„ç³»ç»Ÿå·¥å…·</strong></p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yum</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> yum-utils</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">           device-mapper-persistent-data</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">           lvm2</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --skip-broken</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li><code>yum-utils</code>ï¼šæä¾› <code>yum-config-manager</code> ç­‰ç®¡ç† YUM æºçš„å®ç”¨å·¥å…·ã€‚</li><li><code>device-mapper-persistent-data</code> å’Œ <code>lvm2</code>ï¼šDocker ä¾èµ–çš„å­˜å‚¨é©±åŠ¨ç»„ä»¶ï¼ˆå°¤å…¶æ˜¯ä½¿ç”¨ <code>devicemapper</code> å­˜å‚¨é©±åŠ¨æ—¶éœ€è¦ï¼‰ã€‚</li><li><code>--skip-broken</code>ï¼šè·³è¿‡å› ä¾èµ–å†²çªè€Œæ— æ³•å®‰è£…çš„åŒ…ï¼Œé¿å…æ•´ä¸ªå‘½ä»¤å¤±è´¥ï¼ˆåœ¨æŸäº›æ—§ç³»ç»Ÿä¸­å¯èƒ½æœ‰ç”¨ï¼‰ã€‚</li></ul><p>ç„¶åæ›´æ–°æœ¬åœ°é•œåƒæºï¼š</p><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># æ·»åŠ å®˜æ–¹ Docker CEï¼ˆCommunity Editionï¼‰çš„é˜¿é‡Œäº‘é•œåƒæº</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yum-config-manager</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    --add-repo</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    https://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>ä» <strong>é˜¿é‡Œäº‘é•œåƒç«™</strong> ä¸‹è½½ Docker çš„ YUM ä»“åº“é…ç½®æ–‡ä»¶ï¼ˆ<code>docker-ce.repo</code>ï¼‰ï¼Œå­˜æ”¾åœ¨ <code>/etc/yum.repos.d/</code> ç›®å½•ä¸‹</p><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># å°†ä»“åº“ä¸­çš„åŸå§‹åœ°å€æ›¿æ¢ä¸ºé˜¿é‡Œäº‘é•œåƒåœ°å€ï¼ˆåŒé‡ä¿é™©ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sed</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -i</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;s/download.docker.com/mirrors.aliyun.com\\/docker-ce/g&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/yum.repos.d/docker-ce.repo</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>è™½ç„¶é˜¿é‡Œäº‘æä¾›çš„ repo æ–‡ä»¶é€šå¸¸å·²æŒ‡å‘å…¶é•œåƒï¼Œä½†æœ‰äº›ç‰ˆæœ¬å¯èƒ½ä»åŒ…å« <code>download.docker.com</code>ï¼Œæ­¤ <code>sed</code> å‘½ä»¤ç¡®ä¿æ‰€æœ‰ URL éƒ½èµ°é˜¿é‡Œäº‘ã€‚</p><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># ç”Ÿæˆ YUM ç¼“å­˜ï¼ŒåŠ é€Ÿåç»­å®‰è£…</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yum</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> makecache</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> fast</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li><code>yum makecache</code>ï¼šä¸‹è½½ä»“åº“å…ƒæ•°æ®å¹¶ç¼“å­˜åˆ°æœ¬åœ°ã€‚</li><li><code>fast</code>ï¼šåªæ›´æ–°å˜åŒ–çš„éƒ¨åˆ†ï¼ˆè¾ƒæ–°ç‰ˆæœ¬ yum æ”¯æŒï¼‰ï¼ŒåŠ å¿«é€Ÿåº¦ã€‚</li></ul><p>æœ€åè¾“å…¥å‘½ä»¤ï¼Œ<strong>å®‰è£… Docker ç¤¾åŒºç‰ˆï¼ˆDocker CEï¼‰</strong>ï¼š</p><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yum</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docker-ce</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li><code>docker-ce</code> æ˜¯ <strong>Docker Community Editionï¼ˆç¤¾åŒºå…è´¹ç‰ˆï¼‰</strong>ï¼ŒåŠŸèƒ½å®Œæ•´ï¼Œé€‚åˆå¼€å‘å’Œä¸­å°è§„æ¨¡ç”Ÿäº§ç¯å¢ƒã€‚</li><li><code>-y</code> è¡¨ç¤ºè‡ªåŠ¨ç¡®è®¤â€œyesâ€ï¼Œæ— éœ€æ‰‹åŠ¨è¾“å…¥ã€‚</li><li>æ­¤å‘½ä»¤ä¼šè‡ªåŠ¨å®‰è£… <code>docker-ce</code> åŠå…¶ä¾èµ–ï¼ˆå¦‚ <code>containerd</code>, <code>runc</code> ç­‰ï¼‰ã€‚</li></ul><h3 id="_1-3-å¯åŠ¨docker" tabindex="-1">1.3.å¯åŠ¨docker <a class="header-anchor" href="#_1-3-å¯åŠ¨docker" aria-label="Permalink to &quot;1.3.å¯åŠ¨docker&quot;">â€‹</a></h3><p>Dockeråº”ç”¨éœ€è¦ç”¨åˆ°å„ç§ç«¯å£ï¼Œé€ä¸€å»ä¿®æ”¹é˜²ç«å¢™è®¾ç½®ã€‚éå¸¸éº»çƒ¦ï¼Œå› æ­¤å»ºè®®ç›´æ¥å…³é—­é˜²ç«å¢™ï¼ˆéç”Ÿäº§ï¼‰ï¼</p><p>å¯åŠ¨dockerå‰ï¼Œä¸€å®šè¦å…³é—­é˜²ç«å¢™åï¼ï¼</p><p>å¯åŠ¨dockerå‰ï¼Œä¸€å®šè¦å…³é—­é˜²ç«å¢™åï¼ï¼</p><p>å¯åŠ¨dockerå‰ï¼Œä¸€å®šè¦å…³é—­é˜²ç«å¢™åï¼ï¼</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># å…³é—­</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> stop</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> firewalld</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># ç¦æ­¢å¼€æœºå¯åŠ¨é˜²ç«å¢™</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> disable</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> firewalld</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>é€šè¿‡å‘½ä»¤å¯åŠ¨dockerï¼š</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> start</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docker</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # å¯åŠ¨dockeræœåŠ¡</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> stop</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docker</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # åœæ­¢dockeræœåŠ¡</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> restart</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docker</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # é‡å¯dockeræœåŠ¡</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> enable</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docker</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # è®¾ç½®å¼€æœºè‡ªå¯</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>ç„¶åè¾“å…¥å‘½ä»¤ï¼Œå¯ä»¥æŸ¥çœ‹dockerç‰ˆæœ¬ï¼š</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -v</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_1-4-é…ç½®é•œåƒåŠ é€Ÿ" tabindex="-1">1.4.é…ç½®é•œåƒåŠ é€Ÿ <a class="header-anchor" href="#_1-4-é…ç½®é•œåƒåŠ é€Ÿ" aria-label="Permalink to &quot;1.4.é…ç½®é•œåƒåŠ é€Ÿ&quot;">â€‹</a></h3><p>dockerå®˜æ–¹é•œåƒä»“åº“ç½‘é€Ÿè¾ƒå·®ï¼Œæˆ‘ä»¬éœ€è¦è®¾ç½®å›½å†…é•œåƒæœåŠ¡ï¼š</p><p>å‚è€ƒé˜¿é‡Œäº‘çš„é•œåƒåŠ é€Ÿæ–‡æ¡£ï¼š<a href="https://cr.console.aliyun.com/cn-hangzhou/instances/mirrors" target="_blank" rel="noreferrer">https://cr.console.aliyun.com/cn-hangzhou/instances/mirrors</a></p><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Centos/Ubuntu é€šè¿‡ä¿®æ”¹daemoné…ç½®æ–‡ä»¶/etc/docker/daemon.jsonæ¥ä½¿ç”¨åŠ é€Ÿå™¨</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mkdir</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/docker</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tee</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/docker/daemon.json</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;&lt;-</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;EOF&#39;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">{</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;registry-mirrors&quot;: [&quot;https://2ktfn1p8.mirror.aliyuncs.com&quot;]</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">EOF</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> daemon-reload</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> restart</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docker</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="äºŒã€centos7å®‰è£…dockercompose" tabindex="-1">äºŒã€CentOS7å®‰è£…DockerCompose <a class="header-anchor" href="#äºŒã€centos7å®‰è£…dockercompose" aria-label="Permalink to &quot;äºŒã€CentOS7å®‰è£…DockerCompose&quot;">â€‹</a></h2><h3 id="v1-x" tabindex="-1">V1.x <a class="header-anchor" href="#v1-x" aria-label="Permalink to &quot;V1.x&quot;">â€‹</a></h3><h4 id="æ­¥éª¤ä¸€-ä¸‹è½½æ’ä»¶" tabindex="-1">æ­¥éª¤ä¸€ï¼šä¸‹è½½æ’ä»¶ <a class="header-anchor" href="#æ­¥éª¤ä¸€-ä¸‹è½½æ’ä»¶" aria-label="Permalink to &quot;æ­¥éª¤ä¸€ï¼šä¸‹è½½æ’ä»¶&quot;">â€‹</a></h4><p>Linuxä¸‹éœ€è¦é€šè¿‡å‘½ä»¤ä¸‹è½½ï¼š</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># å®‰è£…</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -L</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://github.com/docker/compose/releases/download/1.23.1/docker-compose-\`</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">uname</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -s</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">-</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">uname</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> /usr/local/bin/docker-compose</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li><code>-L</code> è¡¨ç¤ºå¦‚æœ URL æœ‰é‡å®šå‘ï¼ˆæ¯”å¦‚ GitHub çš„ä¸‹è½½é“¾æ¥ä¼šè·³è½¬åˆ° CDNï¼‰ï¼Œè‡ªåŠ¨è·Ÿéšè·³è½¬ã€‚</li><li><code>uname -s</code> è¿”å›ç³»ç»Ÿç±»å‹ï¼Œå¦‚ <code>Linux</code>ã€‚</li><li><code>uname -m</code> è¿”å›æ¶æ„ï¼Œå¦‚ <code>x86_64</code>ã€<code>aarch64</code>ã€‚</li></ul><p>å¦‚æœæœåŠ¡å™¨æ— æ³•è®¿é—® GitHubï¼ˆå¦‚å†…ç½‘ç¯å¢ƒï¼‰ï¼Œå¯ä»¥åœ¨æœ¬åœ°ä¸‹è½½ï¼Œä¸Šä¼ åˆ°<code>/usr/local/bin/</code>ç›®å½•ä¹Ÿå¯ä»¥ã€‚</p><p>â— å¦‚æœæç¤º <code>command not found: curl</code>ï¼Œè¯´æ˜ç³»ç»Ÿæ²¡æœ‰å®‰è£… <code>curl</code> å·¥å…·ï¼Œéœ€å…ˆå®‰è£…ï¼š</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Ubuntu/Debian</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># CentOS/RHEL</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yum</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h4 id="æ­¥éª¤äºŒ-ä¿®æ”¹æ–‡ä»¶æƒé™" tabindex="-1">æ­¥éª¤äºŒï¼šä¿®æ”¹æ–‡ä»¶æƒé™ <a class="header-anchor" href="#æ­¥éª¤äºŒ-ä¿®æ”¹æ–‡ä»¶æƒé™" aria-label="Permalink to &quot;æ­¥éª¤äºŒï¼šä¿®æ”¹æ–‡ä»¶æƒé™&quot;">â€‹</a></h4><p>ä¿®æ”¹æ–‡ä»¶æƒé™ï¼š</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># ä¿®æ”¹æƒé™</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">chmod</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> +x</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/local/bin/docker-compose</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="æ­¥éª¤ä¸‰-baseè‡ªåŠ¨è¡¥å…¨å‘½ä»¤" tabindex="-1">æ­¥éª¤ä¸‰ï¼šBaseè‡ªåŠ¨è¡¥å…¨å‘½ä»¤ <a class="header-anchor" href="#æ­¥éª¤ä¸‰-baseè‡ªåŠ¨è¡¥å…¨å‘½ä»¤" aria-label="Permalink to &quot;æ­¥éª¤ä¸‰ï¼šBaseè‡ªåŠ¨è¡¥å…¨å‘½ä»¤&quot;">â€‹</a></h4><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># è¡¥å…¨å‘½ä»¤</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -L</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://raw.githubusercontent.com/docker/compose/1.29.1/contrib/completion/bash/docker-compose</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/bash_completion.d/docker-compose</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>è¿™ä¸ªè„šæœ¬æä¾›äº† Bash shell çš„å‘½ä»¤è‡ªåŠ¨è¡¥å…¨åŠŸèƒ½ã€‚ <ul><li>æ¯”å¦‚è¾“å…¥ <code>docker-compose bui</code> ç„¶åæŒ‰ <code>Tab</code>ï¼Œä¼šè‡ªåŠ¨è¡¥å…¨ä¸º <code>build</code>ã€‚</li><li>æ”¯æŒå­å‘½ä»¤ã€æœåŠ¡åã€é€‰é¡¹ç­‰æ™ºèƒ½æç¤ºã€‚</li></ul></li><li>æ–‡ä»¶è¢«ä¿å­˜åˆ° <code>/etc/bash_completion.d/</code> ç›®å½•ï¼š <ul><li>è¿™æ˜¯ç³»ç»Ÿçº§ Bash è¡¥å…¨è„šæœ¬çš„æ ‡å‡†ä½ç½®ã€‚</li><li>åªè¦å®‰è£…äº† <code>bash-completion</code> åŒ…ï¼Œè¯¥ç›®å½•ä¸‹çš„è„šæœ¬ä¼šè‡ªåŠ¨åŠ è½½ã€‚</li></ul></li></ul><p>å¦‚æœ<code>curl</code> æŠ¥é”™ï¼ˆå¦‚è¿æ¥è¶…æ—¶ã€SSL é”™è¯¯ï¼‰ï¼Œè¿™æ˜¯å› ä¸º <code>raw.githubusercontent.com</code> åœ¨å›½å†…ç»å¸¸è¢« DNS æ±¡æŸ“æˆ–å±è”½ï¼Œå¯¼è‡´æ— æ³•è§£ææˆ–è¿æ¥ï¼Œéœ€è¦ä¿®æ”¹è‡ªå·±çš„hostsæ–‡ä»¶ï¼š</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;199.232.68.133 raw.githubusercontent.com&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/hosts</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li><code>199.232.68.133</code> æ˜¯ GitHub çš„ CDN IPï¼ˆFastlyï¼‰ï¼Œå¯ä¸´æ—¶è§£æ <code>raw.githubusercontent.com</code>ã€‚</li><li><code>&gt;&gt; /etc/hosts</code> è¡¨ç¤ºå°†è¿™è¡Œè¿½åŠ åˆ° hosts æ–‡ä»¶æœ«å°¾ã€‚</li><li>ä¿®æ”¹åï¼Œå†æ¬¡è¿è¡Œ <code>curl</code> å‘½ä»¤å³å¯æˆåŠŸä¸‹è½½ã€‚</li></ul><h4 id="âœ…-éªŒè¯è¡¥å…¨æ˜¯å¦ç”Ÿæ•ˆ" tabindex="-1">âœ… éªŒè¯è¡¥å…¨æ˜¯å¦ç”Ÿæ•ˆ <a class="header-anchor" href="#âœ…-éªŒè¯è¡¥å…¨æ˜¯å¦ç”Ÿæ•ˆ" aria-label="Permalink to &quot;âœ… éªŒè¯è¡¥å…¨æ˜¯å¦ç”Ÿæ•ˆ&quot;">â€‹</a></h4><ol><li><p>é‡æ–°åŠ è½½ Bash é…ç½®ï¼š</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">source</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ï½/.bashrc</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># æˆ–æ–°å¼€ä¸€ä¸ªç»ˆç«¯</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li><li><p>è¾“å…¥ <code>docker-compose</code> + ç©ºæ ¼ + <code>Tab</code>ï¼Œçœ‹æ˜¯å¦å¼¹å‡ºå‘½ä»¤åˆ—è¡¨ã€‚</p></li></ol><blockquote><p>ğŸ’¡ å¦‚æœç³»ç»Ÿæœªå®‰è£… <code>bash-completion</code>ï¼Œéœ€å…ˆå®‰è£…ï¼š</p><ul><li>CentOS: <code>yum install -y bash-completion</code></li><li>Ubuntu: <code>apt-get install -y bash-completion</code></li></ul></blockquote><h3 id="v2-x" tabindex="-1">V2.x <a class="header-anchor" href="#v2-x" aria-label="Permalink to &quot;V2.x&quot;">â€‹</a></h3><h4 id="docker-compose-v2-çš„æ ¸å¿ƒå˜åŒ–" tabindex="-1">Docker Compose v2 çš„æ ¸å¿ƒå˜åŒ– <a class="header-anchor" href="#docker-compose-v2-çš„æ ¸å¿ƒå˜åŒ–" aria-label="Permalink to &quot;Docker Compose v2 çš„æ ¸å¿ƒå˜åŒ–&quot;">â€‹</a></h4><table tabindex="0"><thead><tr><th style="text-align:left;">ç‰¹æ€§</th><th style="text-align:left;">v1.xï¼ˆæ—§ç‰ˆï¼‰</th><th style="text-align:left;">v2.xï¼ˆæ–°ç‰ˆï¼‰</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>å‘½ä»¤å½¢å¼</strong></td><td style="text-align:left;"><code>docker-compose</code>ï¼ˆç‹¬ç«‹äºŒè¿›åˆ¶ï¼‰</td><td style="text-align:left;"><code>docker compose</code>ï¼ˆä½œä¸º Docker CLI æ’ä»¶ï¼‰</td></tr><tr><td style="text-align:left;"><strong>å®‰è£…æ–¹å¼</strong></td><td style="text-align:left;">æ‰‹åŠ¨ä¸‹è½½äºŒè¿›åˆ¶åˆ° <code>/usr/local/bin/</code></td><td style="text-align:left;">å®‰è£…ä¸º Docker æ’ä»¶ï¼ˆæ¨èï¼‰æˆ–ç‹¬ç«‹äºŒè¿›åˆ¶</td></tr><tr><td style="text-align:left;"><strong>æ€§èƒ½</strong></td><td style="text-align:left;">Python ç¼–å†™ï¼Œè¾ƒæ…¢</td><td style="text-align:left;">Go ç¼–å†™ï¼Œæ›´å¿«ã€æ›´ç¨³å®š</td></tr><tr><td style="text-align:left;"><strong>å…¼å®¹æ€§</strong></td><td style="text-align:left;">ä»…æ”¯æŒ <code>docker-compose.yml</code></td><td style="text-align:left;">å®Œå…¨å…¼å®¹ v1 é…ç½®æ–‡ä»¶</td></tr></tbody></table><p><code>v2.24.0</code>ä¸º<strong>æœ€æ–°ç¨³å®šç‰ˆ</strong></p><h4 id="æ­¥éª¤-1-ç¡®ä¿å·²å®‰è£…-docker-engine-â‰¥-20-10" tabindex="-1">æ­¥éª¤ 1ï¼šç¡®ä¿å·²å®‰è£… Docker Engineï¼ˆâ‰¥ 20.10ï¼‰ <a class="header-anchor" href="#æ­¥éª¤-1-ç¡®ä¿å·²å®‰è£…-docker-engine-â‰¥-20-10" aria-label="Permalink to &quot;æ­¥éª¤ 1ï¼šç¡®ä¿å·²å®‰è£… Docker Engineï¼ˆâ‰¥ 20.10ï¼‰&quot;">â€‹</a></h4><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --version</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># è¦æ±‚è¾“å‡ºç±»ä¼¼ï¼šDocker version 20.10.0 æˆ–æ›´é«˜</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="æ­¥éª¤-2-ä¸‹è½½-compose-v2-24-0-æ’ä»¶" tabindex="-1">æ­¥éª¤ 2ï¼šä¸‹è½½ Compose v2.24.0 æ’ä»¶ <a class="header-anchor" href="#æ­¥éª¤-2-ä¸‹è½½-compose-v2-24-0-æ’ä»¶" aria-label="Permalink to &quot;æ­¥éª¤ 2ï¼šä¸‹è½½ Compose v2.24.0 æ’ä»¶&quot;">â€‹</a></h4><div class="language-csharp vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">csharp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"># åˆ›å»ºæ’ä»¶ç›®å½•ï¼ˆå¦‚æœä¸å­˜åœ¨ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">mkdir </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">p ï½</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.docker</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">cli</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">plugins</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"># ä¸‹è½½ Compose v2.24.0ï¼ˆLinux x86_64 ç¤ºä¾‹ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">curl </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">SL </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">https</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//github.com/docker/compose/releases/download/v2.24.0/docker-compose-linux-x86_64 -o /usr/local/bin/docker-compose</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"># å¦‚æœæ˜¯ ARM æ¶æ„ï¼ˆå¦‚æ ‘è“æ´¾ã€Mac M1/M2ï¼‰ï¼Œç”¨ï¼š</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"># curl -SL https:</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//github.com/docker/compose/releases/download/v2.24.0/docker-compose-linux-aarch64 -o /usr/local/bin/docker-compose</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h4 id="æ­¥éª¤-3-æ·»åŠ æ‰§è¡Œæƒé™" tabindex="-1">æ­¥éª¤ 3ï¼šæ·»åŠ æ‰§è¡Œæƒé™ <a class="header-anchor" href="#æ­¥éª¤-3-æ·»åŠ æ‰§è¡Œæƒé™" aria-label="Permalink to &quot;æ­¥éª¤ 3ï¼šæ·»åŠ æ‰§è¡Œæƒé™&quot;">â€‹</a></h4><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">chmod</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> +x</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/local/bin/docker-compose</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="æ­¥éª¤-4-éªŒè¯å®‰è£…" tabindex="-1">æ­¥éª¤ 4ï¼šéªŒè¯å®‰è£… <a class="header-anchor" href="#æ­¥éª¤-4-éªŒè¯å®‰è£…" aria-label="Permalink to &quot;æ­¥éª¤ 4ï¼šéªŒè¯å®‰è£…&quot;">â€‹</a></h4><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># æŸ¥çœ‹ç‰ˆæœ¬</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> version</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># è¾“å‡ºç¤ºä¾‹ï¼š</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Docker Compose version v2.24.0</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="é…ç½®-bash-è‡ªåŠ¨è¡¥å…¨" tabindex="-1">é…ç½® Bash è‡ªåŠ¨è¡¥å…¨ <a class="header-anchor" href="#é…ç½®-bash-è‡ªåŠ¨è¡¥å…¨" aria-label="Permalink to &quot;é…ç½® Bash è‡ªåŠ¨è¡¥å…¨&quot;">â€‹</a></h4><p><strong>V2.xä¸å†æä¾›ç‹¬ç«‹çš„ Bash è¡¥å…¨è„šæœ¬</strong>ï¼Œè€Œæ˜¯é€šè¿‡ <strong>Docker CLI æ’ä»¶æœºåˆ¶è‡ªåŠ¨æ”¯æŒè¡¥å…¨</strong></p><p>æ‰€ä»¥ä¸éœ€è¦æ‰‹åŠ¨ä¸‹è½½è¡¥å…¨è„šæœ¬ â€”â€” <strong>åªè¦æ­£ç¡®å®‰è£…äº† <code>docker compose</code> æ’ä»¶ï¼Œè¡¥å…¨åŠŸèƒ½å°±è‡ªå¸¦äº†ï¼</strong></p><p><strong>ç¡®ä¿å·²å®‰è£…</strong> <code>bash-completion</code></p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># CentOS / RHEL</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yum</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bash-completion</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Ubuntu / Debian</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bash-completion</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>ç¬¬äºŒæ­¥ï¼šé‡æ–°åŠ è½½ shell æˆ–ç™»å½•æ–°ç»ˆç«¯</strong></p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exec</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bash</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># æˆ–</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">source</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ï½/.bashrc</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>ç¬¬ä¸‰æ­¥ï¼šéªŒè¯è¡¥å…¨æ˜¯å¦ç”Ÿæ•ˆ</strong></p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> compose</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [æŒ‰ </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Tab</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> é”®]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>èƒ½çœ‹åˆ°ç±»ä¼¼ï¼š</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[root@localhost </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">~</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]# docker compose</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">attach</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   config</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   create</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   events</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   images</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   logs</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     pause</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    ps</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">       push</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     rm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">       scale</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    stats</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    top</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      up</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">       wait</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">build</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    cp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">       down</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     exec</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     kill</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     ls</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">       port</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     pull</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     restart</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      start</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    stop</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     unpause</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  version</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  watch</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="ä¸‰ã€dockeré•œåƒä»“åº“" tabindex="-1">ä¸‰ã€Dockeré•œåƒä»“åº“ <a class="header-anchor" href="#ä¸‰ã€dockeré•œåƒä»“åº“" aria-label="Permalink to &quot;ä¸‰ã€Dockeré•œåƒä»“åº“&quot;">â€‹</a></h2><p>æ­å»ºé•œåƒä»“åº“å¯ä»¥åŸºäºDockerå®˜æ–¹æä¾›çš„DockerRegistryæ¥å®ç°ã€‚</p><p>å®˜ç½‘åœ°å€ï¼š<a href="https://hub.docker.com/_/registry" target="_blank" rel="noreferrer">https://hub.docker.com/_/registry</a></p><h3 id="_3-1-ç®€åŒ–ç‰ˆé•œåƒä»“åº“" tabindex="-1">3.1.ç®€åŒ–ç‰ˆé•œåƒä»“åº“ <a class="header-anchor" href="#_3-1-ç®€åŒ–ç‰ˆé•œåƒä»“åº“" aria-label="Permalink to &quot;3.1.ç®€åŒ–ç‰ˆé•œåƒä»“åº“&quot;">â€‹</a></h3><p>Dockerå®˜æ–¹çš„Docker Registryæ˜¯ä¸€ä¸ªåŸºç¡€ç‰ˆæœ¬çš„Dockeré•œåƒä»“åº“ï¼Œå…·å¤‡ä»“åº“ç®¡ç†çš„å®Œæ•´åŠŸèƒ½ï¼Œä½†æ˜¯æ²¡æœ‰å›¾å½¢åŒ–ç•Œé¢ã€‚</p><p>æ­å»ºæ–¹å¼æ¯”è¾ƒç®€å•ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    --restart=always</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    --name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> registry</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">	\\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 5000:5000</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    -v</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> registry-data:/var/lib/registry</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    registry</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>å‘½ä»¤ä¸­æŒ‚è½½äº†ä¸€ä¸ªæ•°æ®å·registry-dataåˆ°å®¹å™¨å†…çš„/var/lib/registry ç›®å½•ï¼Œè¿™æ˜¯ç§æœ‰é•œåƒåº“å­˜æ”¾æ•°æ®çš„ç›®å½•ã€‚</p><p>è®¿é—®<a href="http://YourIp:5000/v2/_catalog" target="_blank" rel="noreferrer">http://YourIp:5000/v2/_catalog</a> å¯ä»¥æŸ¥çœ‹å½“å‰ç§æœ‰é•œåƒæœåŠ¡ä¸­åŒ…å«çš„é•œåƒ</p><h3 id="_3-2-å¸¦æœ‰å›¾å½¢åŒ–ç•Œé¢ç‰ˆæœ¬" tabindex="-1">3.2.å¸¦æœ‰å›¾å½¢åŒ–ç•Œé¢ç‰ˆæœ¬ <a class="header-anchor" href="#_3-2-å¸¦æœ‰å›¾å½¢åŒ–ç•Œé¢ç‰ˆæœ¬" aria-label="Permalink to &quot;3.2.å¸¦æœ‰å›¾å½¢åŒ–ç•Œé¢ç‰ˆæœ¬&quot;">â€‹</a></h3><p>ä½¿ç”¨DockerComposeéƒ¨ç½²å¸¦æœ‰å›¾è±¡ç•Œé¢çš„DockerRegistryï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š</p><div class="language-yaml vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">version</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;3.0&#39;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">services</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  registry</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    image</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">registry</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    volumes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">./registry-data:/var/lib/registry</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  ui</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    image</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">joxit/docker-registry-ui:static</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    ports</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">8080:80</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    environment</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">REGISTRY_TITLE=ä¼ æ™ºæ•™è‚²ç§æœ‰ä»“åº“</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">REGISTRY_URL=http://registry:5000</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    depends_on</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">registry</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="_3-3-é…ç½®dockerä¿¡ä»»åœ°å€" tabindex="-1">3.3.é…ç½®Dockerä¿¡ä»»åœ°å€ <a class="header-anchor" href="#_3-3-é…ç½®dockerä¿¡ä»»åœ°å€" aria-label="Permalink to &quot;3.3.é…ç½®Dockerä¿¡ä»»åœ°å€&quot;">â€‹</a></h3><p>æˆ‘ä»¬çš„ç§æœé‡‡ç”¨çš„æ˜¯httpåè®®ï¼Œé»˜è®¤ä¸è¢«Dockerä¿¡ä»»ï¼Œæ‰€ä»¥éœ€è¦åšä¸€ä¸ªé…ç½®ï¼š</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># æ‰“å¼€è¦ä¿®æ”¹çš„æ–‡ä»¶</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vi</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/docker/daemon.json</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># æ·»åŠ å†…å®¹ï¼š</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">&quot;insecure-registries&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">&quot;http://192.168.150.101:8080&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">]</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># é‡åŠ è½½</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> daemon-reload</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># é‡å¯docker</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> restart</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docker</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="å‚è€ƒèµ„æ–™" tabindex="-1">å‚è€ƒèµ„æ–™ <a class="header-anchor" href="#å‚è€ƒèµ„æ–™" aria-label="Permalink to &quot;å‚è€ƒèµ„æ–™&quot;">â€‹</a></h2><p><a href="https://www.bilibili.com/video/BV11L411g7U1" target="_blank" rel="noreferrer">https://www.bilibili.com/video/BV11L411g7U1</a></p><p><a href="https://docker.easydoc.net/doc/81170005/cCewZWoN/U7u8rjzF" target="_blank" rel="noreferrer">ğŸ‘¨â€ğŸ‘¦â€ğŸ‘¦ å¤šå®¹å™¨é€šä¿¡ - Docker å¿«é€Ÿå…¥é—¨ - æ˜“æ–‡æ¡£ (easydoc.net)</a></p><p><a href="https://blog.csdn.net/pushiqiang/article/details/78682323" target="_blank" rel="noreferrer">https://blog.csdn.net/pushiqiang/article/details/78682323</a></p><p><a href="https://www.runoob.com/docker/ubuntu-docker-install.html" target="_blank" rel="noreferrer">Ubuntu Docker å®‰è£… | èœé¸Ÿæ•™ç¨‹ (runoob.com)</a></p><p>ä¿®æ”¹è¿è¡Œä¸­çš„dockerå®¹å™¨çš„ç«¯å£æ˜ å°„ï¼š<a href="https://blog.csdn.net/lcc2001/article/details/133888294" target="_blank" rel="noreferrer">https://blog.csdn.net/lcc2001/article/details/133888294</a></p>`,104)])])}const g=a(l,[["render",p]]);export{o as __pageData,g as default};
