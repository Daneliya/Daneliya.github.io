import{_ as i,c as a,o as n,ah as t,uQ as l,uR as p,uS as h,uT as e,uU as k,uV as r,uW as d,uX as E,uY as g,uZ as c,u_ as y,u$ as o,v0 as b,v1 as m,v2 as _,v3 as C,v4 as F,v5 as u,v6 as A,v7 as D,v8 as v,v9 as B,va as f,vb as T,vc as z}from"./chunks/framework.D5cOWG0Y.js";const L=JSON.parse('{"title":"使用EasyCaptcha生成验证码","description":"","frontmatter":{"title":"使用EasyCaptcha生成验证码","tags":["EasyCaptcha"],"categories":["EasyCaptcha"]},"headers":[],"relativePath":"常用框架/EasyCaptcha/0_使用EasyCaptcha生成验证码.md","filePath":"常用框架/EasyCaptcha/0_使用EasyCaptcha生成验证码.md","lastUpdated":1756054686000}'),N={name:"常用框架/EasyCaptcha/0_使用EasyCaptcha生成验证码.md"};function x(P,s,O,S,Y,R){return n(),a("div",null,[...s[0]||(s[0]=[t('<h2 id="easycaptcha效果" tabindex="-1">EasyCaptcha效果 <a class="header-anchor" href="#easycaptcha效果" aria-label="Permalink to “EasyCaptcha效果”">​</a></h2><p><strong>算数类型：</strong></p><p><img src="'+l+'" alt="验证码" loading="lazy"> <img src="'+p+'" alt="验证码" loading="lazy"> <img src="'+h+'" alt="验证码" loading="lazy"></p><p><strong>英文字母：</strong></p><p><img src="'+e+'" alt="验证码" loading="lazy"> <img src="'+k+'" alt="验证码" loading="lazy"> <img src="'+r+'" alt="验证码" loading="lazy"></p><p><strong>中文类型：</strong></p><p><img src="'+d+'" alt="验证码" loading="lazy"> <img src="'+E+'" alt="验证码" loading="lazy"> <img src="'+g+'" alt="验证码" loading="lazy"></p><p><strong>GIF效果：</strong></p><p><img src="'+c+'" alt="验证码" loading="lazy"> <img src="'+y+'" alt="验证码" loading="lazy"> <img src="'+o+'" alt="验证码" loading="lazy"></p><p><strong>内置字体：</strong></p><p><img src="'+b+'" alt="验证码" loading="lazy"> <img src="'+m+'" alt="验证码" loading="lazy"> <img src="'+_+`" alt="验证码" loading="lazy"></p><h2 id="基本使用" tabindex="-1">基本使用 <a class="header-anchor" href="#基本使用" aria-label="Permalink to “基本使用”">​</a></h2><h3 id="依赖引入" tabindex="-1">依赖引入 <a class="header-anchor" href="#依赖引入" aria-label="Permalink to “依赖引入”">​</a></h3><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">dependency</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">groupId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;com.pig4cloud.plugin&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">groupId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">artifactId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;captcha-spring-boot-starter&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">artifactId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">version</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;2.2.2&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">version</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">dependency</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="controller层代码" tabindex="-1">Controller层代码 <a class="header-anchor" href="#controller层代码" aria-label="Permalink to “Controller层代码”">​</a></h3><p>在SpringBoot项目中一般生成图片后，转换成base64格式的字符串，前端直接在img标签的src设置返回的base64字符串即可展示图片，下面展示算数类型的验证码是如何生成的。</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">GetMapping</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/getCode&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> String </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getCode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    SpecCaptcha specCaptcha </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> SpecCaptcha</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">130</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">48</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    String verCode </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> specCaptcha.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toLowerCase</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    log.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">info</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;生成的验证码结果为：{}，在项目中应该将结果保存到Redis中&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, verCode);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 将base64返回给前端</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> specCaptcha.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toBase64</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>base64在线转换工具：<a href="https://tool.chinaz.com/tools/imgtobase/" target="_blank" rel="noreferrer">https://tool.chinaz.com/tools/imgtobase/</a></p><h3 id="自定义验证码-类型、字体" tabindex="-1">自定义验证码：类型、字体 <a class="header-anchor" href="#自定义验证码-类型、字体" aria-label="Permalink to “自定义验证码：类型、字体”">​</a></h3><p>CharType：验证码字符类型</p><table tabindex="0"><thead><tr><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>TYPE_DEFAULT</td><td>数字和字母混合</td></tr><tr><td>TYPE_ONLY_NUMBER</td><td>纯数字</td></tr><tr><td>TYPE_ONLY_CHAR</td><td>纯字母</td></tr><tr><td>TYPE_ONLY_UPPER</td><td>纯大写字母</td></tr><tr><td>TYPE_ONLY_LOWER</td><td>纯小写字母</td></tr><tr><td>TYPE_NUM_AND_UPPER</td><td>数字和大写字母</td></tr></tbody></table><p>Font：字体</p><table tabindex="0"><thead><tr><th>字体</th><th>效果</th></tr></thead><tbody><tr><td>Captcha.FONT_1</td><td><img src="`+C+'" alt="img" loading="lazy"></td></tr><tr><td>Captcha.FONT_2</td><td><img src="'+F+'" alt="img" loading="lazy"></td></tr><tr><td>Captcha.FONT_3</td><td><img src="'+u+'" alt="img" loading="lazy"></td></tr><tr><td>Captcha.FONT_4</td><td><img src="'+A+'" alt="img" loading="lazy"></td></tr><tr><td>Captcha.FONT_5</td><td><img src="'+D+'" alt="img" loading="lazy"></td></tr><tr><td>Captcha.FONT_6</td><td><img src="'+v+'" alt="img" loading="lazy"></td></tr><tr><td>Captcha.FONT_7</td><td><img src="'+B+'" alt="img" loading="lazy"></td></tr><tr><td>Captcha.FONT_8</td><td><img src="'+f+'" alt="img" loading="lazy"></td></tr><tr><td>Captcha.FONT_9</td><td><img src="'+T+'" alt="img" loading="lazy"></td></tr><tr><td>Captcha.FONT_10</td><td><img src="'+z+`" alt="img" loading="lazy"></td></tr></tbody></table><p>代码</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">GetMapping</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> String </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getCode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() throws IOException, FontFormatException {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    SpecCaptcha specCaptcha </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> SpecCaptcha</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">130</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">48</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    String verCode </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> specCaptcha.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toLowerCase</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    log.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">info</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;生成的验证码结果为：{}，在项目中应该将结果保存到Redis中&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, verCode);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 设置字体</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    specCaptcha.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setFont</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Captcha.FONT_1);  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 有默认字体，可以不用设置</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 设置类型，纯数字、纯字母、字母数字混合</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    specCaptcha.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setCharType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Captcha.TYPE_ONLY_NUMBER);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 将base64返回给前端</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> specCaptcha.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toBase64</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="自定义验证码-数字计算验证码" tabindex="-1">自定义验证码：数字计算验证码 <a class="header-anchor" href="#自定义验证码-数字计算验证码" aria-label="Permalink to “自定义验证码：数字计算验证码”">​</a></h3><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">GetMapping</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> String </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getCode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ArithmeticCaptcha captcha </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ArithmeticCaptcha</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">130</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">48</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    captcha.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setLen</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 几位数运算，默认是两位</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    captcha.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getArithmeticString</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 获取运算的公式：3+2=?</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    String code </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> captcha.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 获取运算的结果：5</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    log.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">info</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;生成的验证码结果为：{}，在项目中应该将结果保存到Redis中&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, code);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 将base64返回给前端</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> captcha.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toBase64</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div>`,27)])])}const q=i(N,[["render",x]]);export{L as __pageData,q as default};
