import{_ as o,c as a,o as t,aN as n}from"./chunks/framework.CMIDsdwV.js";const i="/assets/image-20240221005044547.CX302JU4.png",r="/assets/image-20240225230355012.C8eGOZn0.png",l="/assets/image-20240225231610282.Cd07n4Y1.png",y=JSON.parse('{"title":"ComfyUI安装","description":"","frontmatter":{"title":"ComfyUI安装","date":"2024-02-25","tags":["Stable Diffusion","ComfyUI"],"categories":["Stable Diffusion","ComfyUI"]},"headers":[],"relativePath":"StableDiffusion/ComfyUI/1_ComfyUI安装.md","filePath":"StableDiffusion/ComfyUI/1_ComfyUI安装.md","lastUpdated":1767444225000}'),s={name:"StableDiffusion/ComfyUI/1_ComfyUI安装.md"};function p(d,e,c,h,m,u){return t(),a("div",null,[...e[0]||(e[0]=[n('<div style="display:none;" hidden="true" aria-hidden="true">Are you an LLM? You can read better optimized documentation at /StableDiffusion\\ComfyUI\\1_ComfyUI安装.md for this page in Markdown format</div><h1 id="comfyui安装" tabindex="-1">ComfyUI安装 <a class="header-anchor" href="#comfyui安装" aria-label="Permalink to &quot;ComfyUI安装&quot;">​</a></h1><h2 id="windows-n卡-安装流程" tabindex="-1">Windows（N卡）安装流程 <a class="header-anchor" href="#windows-n卡-安装流程" aria-label="Permalink to &quot;Windows（N卡）安装流程&quot;">​</a></h2><p>如果使用的是Windows平台且为N卡用户，只需要在项目主页的Release页面下载作者提供的“官方整合包”，即可一键开启ComfyUI探索之路：</p><blockquote><p>下载地址：<a href="https://github.com/comfyanonymous/ComfyUI/releases" target="_blank" rel="noreferrer">https://github.com/comfyanonymous/ComfyUI/releases</a></p></blockquote><p><img src="'+i+'" alt="image-20240221005044547" loading="lazy"></p><p>进入后，点击“<strong><a href="https://github.com/comfyanonymous/ComfyUI/releases/download/latest/ComfyUI_windows_portable_nvidia_cu121_or_cpu.7z" target="_blank" rel="noreferrer">Download Link with stable pytorch 2.1 cu121</a></strong>”即可下载。</p><p>下载完毕后，解压文件夹至任意空白路径。双击“run_nvdidia_gpu.bat”，即可开启ComfyUI。</p><p><img src="'+r+'" alt="image-20240225230355012" loading="lazy"></p><p>启动后的页面</p><p><img src="'+l+'" alt="image-20240225231610282" loading="lazy"></p><h2 id="其他平台安装流程" tabindex="-1">其他平台安装流程 <a class="header-anchor" href="#其他平台安装流程" aria-label="Permalink to &quot;其他平台安装流程&quot;">​</a></h2><p><strong>摘录自官方项目页面，待测试</strong></p><p>更详细的安装指引，请参考项目主页的安装部分说明：<a href="https://github.com/comfyanonymous/ComfyUI?tab=readme-ov-file#installing" target="_blank" rel="noreferrer">https://github.com/comfyanonymous/ComfyUI?tab=readme-ov-file#installing</a></p><h3 id="手动安装" tabindex="-1"><strong>手动安装</strong> <a class="header-anchor" href="#手动安装" aria-label="Permalink to &quot;**手动安装**&quot;">​</a></h3><ol><li>Git clone 此存储库。</li></ol><div class="language-JSON vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">JSON</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">git clone https:</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//github.com/comfyanonymous/ComfyUI.git</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ol><li>把您的 SD 大模型（Checkpoint，ckpt/safetensors 文件）放在 models/checkpoints 文件夹中；</li><li>将您的 VAE 放入 models/vae 文件夹中；</li></ol><p>然后按照下面的指引，安装不同平台所需的依赖项：</p><h4 id="amd-gpu-linux" tabindex="-1"><strong>AMD GPU（Linux）</strong> <a class="header-anchor" href="#amd-gpu-linux" aria-label="Permalink to &quot;**AMD GPU（Linux）**&quot;">​</a></h4><p>AMD users can install rocm and pytorch with pip if you don&#39;t have it already installed, this is the command to install the stable version:</p><p>如果您还没有安装 rocm 和 pytorch，AMD 用户可以使用 pip 安装 rocm 和 pytorch，这是安装稳定版本的命令：</p><p><code>pip install torch torchvision torchaudio --index-url ``https://download.pytorch.org/whl/rocm5.7</code></p><p>Install the dependencies by opening your terminal inside the ComfyUI folder and:</p><p>然后，在 ComfyUI 文件夹中打开终端，然后通过下面的命令来安装依赖项：</p><p><code>pip install -r requirements.txt</code></p><p>After this you should have everything installed and can proceed to running ComfyUI.</p><p>在此之后，您应该已经安装了所有内容，并可以继续运行 ComfyUI。</p><h4 id="nvidia-gpu" tabindex="-1"><strong>NVIDIA GPU</strong> <a class="header-anchor" href="#nvidia-gpu" aria-label="Permalink to &quot;**NVIDIA GPU**&quot;">​</a></h4><p>Nvidia users should install stable pytorch using this command:</p><p>Nvidia 用户应使用以下命令安装稳定版本的 pytorch：</p><p><code>pip install torch torchvision torchaudio --extra-index-url ``https://download.pytorch.org/whl/cu121</code></p><p>If you get the &quot;Torch not compiled with CUDA enabled&quot; error, uninstall torch with:</p><p>如果您收到“Torch 未在启用 CUDA 的情况下编译”错误，请使用以下命令卸载 torch：</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>pip uninstall torch</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>And install it again with the command above.</p><p>然后使用上面的命令重新安装它。</p><p>Install the dependencies by opening your terminal inside the ComfyUI folder and:</p><p>然后，在 ComfyUI 文件夹中打开终端，然后通过下面的命令来安装依赖项：</p><p><code>pip install -r requirements.txt</code></p><p>After this you should have everything installed and can proceed to running ComfyUI.</p><p>在此之后，您应该已经安装了所有内容，并可以继续运行 ComfyUI。</p><h4 id="intel-gpu" tabindex="-1">Intel GPU <a class="header-anchor" href="#intel-gpu" aria-label="Permalink to &quot;Intel GPU&quot;">​</a></h4><p>请参考如下链接：<strong><a href="https://github.com/comfyanonymous/ComfyUI/discussions/476" target="_blank" rel="noreferrer">Intel Arc 英特尔锐炫</a></strong></p><h4 id="apple-mac-芯片" tabindex="-1"><strong>Apple Mac 芯片</strong> <a class="header-anchor" href="#apple-mac-芯片" aria-label="Permalink to &quot;**Apple Mac 芯片**&quot;">​</a></h4><p>You can install ComfyUI in Apple Mac silicon (M1 or M2) with any recent macOS version.</p><p>您可以在 Apple Mac 芯片（M1 或 M2）中安装任何最新 macOS 版本的 ComfyUI。</p><ol><li>Install pytorch nightly. For instructions, read the <a href="https://developer.apple.com/metal/pytorch/" target="_blank" rel="noreferrer">Accelerated PyTorch training on Mac</a> Apple Developer guide (make sure to install the latest pytorch nightly). 安装 pytorch nightly。有关说明，请阅读 Mac 上的加速 PyTorch 培训 Apple 开发人员指南（确保安装最新的 pytorch nightly）。</li><li>Follow the <a href="https://github.com/comfyanonymous/ComfyUI#manual-install-windows-linux" target="_blank" rel="noreferrer">ComfyUI manual installation</a> instructions for Windows and Linux. 按照适用于 Windows 和 Linux 的 ComfyUI 手动安装说明进行操作。</li><li>Install the ComfyUI <a href="https://github.com/comfyanonymous/ComfyUI#dependencies" target="_blank" rel="noreferrer">dependencies</a>. If you have another Stable Diffusion UI <a href="https://github.com/comfyanonymous/ComfyUI#i-already-have-another-ui-for-stable-diffusion-installed-do-i-really-have-to-install-all-of-these-dependencies" target="_blank" rel="noreferrer">you might be able to reuse the dependencies</a>. 安装 ComfyUI 依赖项。如果您有其他 Stable Diffusion UI，则可以重用依赖项。</li><li>Launch ComfyUI by running <code>python main.py --force-fp16</code>. Note that --force-fp16 will only work if you installed the latest pytorch nightly. 通过运行 <code>python main.py --force-fp16</code> 启动 ComfyUI。请注意，--force-fp16 只有在安装最新的 pytorch nightly时才有效。</li></ol><blockquote><p><strong>Note</strong>: Remember to add your models, VAE, LoRAs etc. to the corresponding Comfy folders, as discussed in <a href="https://github.com/comfyanonymous/ComfyUI#manual-install-windows-linux" target="_blank" rel="noreferrer">ComfyUI manual installation</a>. 注意：请记住将您的模型、VAE、LoRA 等添加到相应的 Comfy 文件夹中，如 ComfyUI 手动安装中所述。</p></blockquote><h4 id="directml-windows-上的-amd-卡" tabindex="-1"><strong>DirectML（Windows 上的 AMD 卡）</strong> <a class="header-anchor" href="#directml-windows-上的-amd-卡" aria-label="Permalink to &quot;**DirectML（Windows 上的 AMD 卡）**&quot;">​</a></h4><p><code>pip install torch-directml</code></p><p>Then you can launch ComfyUI with: <code>python main.py --directml</code> <code>pip install torch-directml</code></p><p>然后，您可以使用以下命令启动ComfyUI： <code>python main.py --directml</code></p>',53)])])}const g=o(s,[["render",p]]);export{y as __pageData,g as default};
