import{_ as i,c as a,o as n,ah as e,vM as l,vN as t,vO as p,vP as h}from"./chunks/framework.D5cOWG0Y.js";const b=JSON.parse('{"title":"MongoDB数据同步","description":"","frontmatter":{"title":"MongoDB数据同步","date":"2024-04-23","tags":["MongoDB"],"categories":["MongoDB"]},"headers":[],"relativePath":"数据库/MongoDB/4_MongoDB数据同步.md","filePath":"数据库/MongoDB/4_MongoDB数据同步.md","lastUpdated":1756054686000}'),o={name:"数据库/MongoDB/4_MongoDB数据同步.md"};function k(r,s,d,g,m,F){return n(),a("div",null,[...s[0]||(s[0]=[e('<h3 id="mongo工具包介绍" tabindex="-1">Mongo工具包介绍 <a class="header-anchor" href="#mongo工具包介绍" aria-label="Permalink to “Mongo工具包介绍”">​</a></h3><p>mongo工具包包括管理数据的一些工具 exe 文件，具体如下：</p><ol><li>mongoexport.exe：导出数据命令工具</li><li>mongoimport.exe：导入数据命令工具</li><li>bsondump.exe： 用于将导出的BSON文件格式转换为JSON格式</li><li>mongodump.exe： 用于从mongodb数据库中导出BSON格式的文件，类似于mysql的dump工具mysqldump</li><li>mongofiles.exe： 用于和mongoDB的GridFS文件系统交互的命令，并可操作其中的文件，它提供了我们本地系统与GridFS文件系统之间的存储对象接口</li><li>mongorestore.exe： 用于恢复导出的BSON文件到 mongodb 数据库中</li><li>mongostat.exe： 当前 mongod 状态监控工具，像linux中监控linux的vmstat</li><li>mongotop.exe： 提供了一个跟踪mongod数据库花费在读写数据的时间，为每个collection都会记录，默认记录时间是按秒记录</li></ol><h3 id="mongo工具包下载" tabindex="-1">Mongo工具包下载 <a class="header-anchor" href="#mongo工具包下载" aria-label="Permalink to “Mongo工具包下载”">​</a></h3><p>MongoDB安装参考之前的文章</p><p>安装后，部分版本会自带该工具包，比如下图的 4.x 版本，我用的 5.0 版本没有自带工具包，所以我需要先去官网下载4.x 的安装包文件，然后把 bin 目录下的工具复制到 5.0 版本的 bin 目录下，才能进行数据的导出、导入操作。</p><p><img src="'+l+'" alt="image-20240423143622398" loading="lazy"></p><p>将下载的 4.x 里的工具文件复制到 5.0 的安装目录</p><p><img src="'+t+`" alt="image-20240423143555034" loading="lazy"></p><h3 id="导出导出实战" tabindex="-1">导出导出实战 <a class="header-anchor" href="#导出导出实战" aria-label="Permalink to “导出导出实战”">​</a></h3><p>涉及命令工具：mongoexport、mongoimport</p><div class="language-markdown line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">markdown</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">参数释义：</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">-h ：指的是 host 主机地址</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">-u ：指的是用户账号</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">-p ：指的是账户密码</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">-d ：指的是数据库 database 简称</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">-c ：指的是表 collection 简称</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">-o ：指的是导出路径 output 简称</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">--file ：指的是需要导入的文件</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">--help : 查看帮助</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>实战示例：将108服务器中examdb库中的exam表复制到106服务器中。</p><p>将数据以JSON格式导出到本地</p><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./mongoexport.exe</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -h</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 192.168.100.108:27017</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -u</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;root&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;password&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --authenticationDatabase=admin</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> examdb</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -c</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> exam</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -o</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> D:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\e</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">xam001.json</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --type</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> json</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="`+p+'" alt="image-20240423142715108" loading="lazy"></p><p>导入到另一条服务器中</p><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./mongoimport.exe</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -h</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 192.168.100.106:27017</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -u</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;root&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;password&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --authenticationDatabase=admin</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> examdb</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -c</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> exam001</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --file</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> D:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\e</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">xam001.json</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="'+h+'" alt="image-20240423142730623" loading="lazy"></p>',19)])])}const u=i(o,[["render",k]]);export{b as __pageData,u as default};
